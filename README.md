# Bilibili 公开抽奖报名系统
[![demo.jpg](https://github.com/CzJam/Bili_Lottery_Register/blob/master/demo.jpg)](https://github.com/CzJam/Bili_Lottery_Register/blob/master/demo.jpg)

### 开发理念
B站在2022年3月对电磁力进行了改版，导致升级难度暴增。很多Up主难以达到抽奖所需的LV7，包括我自己。
为了给粉丝抽奖，因此开发了这样一套抽奖报名系统。
开发前参考了一些本地抽奖工具，最终决定采用“用户主动报名”的站外抽奖方式，这样生来可避免站内的大量抽奖号和机器人参与，更做到了报名结果公开，方便广大Up主回馈自己真正的粉丝。


------------


### 系统特点
- 互联网部署，所有报名用户公开，保证公平公正
- 每位用户拥有独一无二的报名编号，可确保成功报名
- 内置随机数自动开奖，无需人工操作
- 无需登录B站帐号，输入自己的UID即可报名
- 报名时自动检测是否转发了指定动态，防止他人恶意刷榜


------------


### 运行原理

- 报名：填写UID后会调用B站官方API获取该用户的昵称与最近动态内容。若该UID没有报名且转发了相关动态，则完成报名。
- 开奖：使用PHP内置的mt_rand函数，以连续递增的报名编号作为随机数范围，抽取一位用户视为获奖者。


### 运行环境

> 本项目涉及小部分Linux与Web开发相关的知识，若您没有经验请善用搜索引擎，其中99%的问题都能得到解决。

- 云服务器或家用Linux主机（家用机需开启端口转发等选项，能够让外网用户访问）
- 完整LNMP或LAMP环境（PHP版本>=7.3）
- PhpMyAdmin（数据库管理工具）

------------



### 搭建步骤

1. 新建站点，将项目里除sql外所有文件上传到站点目录下
2. 新建数据库，导入项目里的sql文件
3. 打开settings.php，填写数据库连接信息、转发动态关键词，开奖时间。
4. 访问站点目录下的index.html即可使用
   
------------

